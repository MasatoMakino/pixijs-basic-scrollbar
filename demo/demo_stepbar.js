(()=>{"use strict";var t,e,i,n={7643(t,e,i){var n=i(9027);class s{constructor(t){this.rate=t}}class o extends n.mcf{get rate(){return this._rate}constructor(t){super(),this.isHorizontal=!0,this.wheelSpeed=3e-4,this.dragStartPos=new n.bRX,this.activePointerId=null,this.sliderEventEmitter=new n.bkB,this.startMove=t=>{this.onPressedSliderButton(t)},this.moveSlider=(t,e=!1)=>{(e||null!==this.activePointerId&&t.pointerId===this.activePointerId)&&this.onMoveSlider(t)},this.moveSliderFinish=t=>{null!=t?.pointerId&&t.pointerId!==this.activePointerId||(this.activePointerId=null,a.removeEventListenerFromTarget(this.buttonRootContainer,"pointermove",this.moveSlider),this._slideButton.off("pointerup",this.moveSliderFinish),this._slideButton.off("pointerupoutside",this.moveSliderFinish),this.sliderEventEmitter.emit("slider_change_finished",new s(this.rate)))},this.onWheel=t=>{const e=a.clamp(this.rate+t.deltaY*this.wheelSpeed,o.MAX_RATE,0);this.changeRate(e)};const e=r.init(t);this.canvas=e.canvas,this._base=this.initBase(e.base),this._bar=this.initBarAndMask(e?.bar),this._barMask=this.initBarAndMask(e?.mask),this._bar&&this._barMask&&(this._bar.mask=this._barMask),this._slideButton=this.initSliderButton(e.button),this.buttonRootContainer=a.getRootContainer(this.canvas,this._slideButton),this._minPosition=e.minPosition,this._maxPosition=e.maxPosition,this.isHorizontal=e.isHorizontal,this._rate=e.rate,this.changeRate(this._rate)}changeRate(t){if(null!==this.activePointerId)return;this._rate=t;const e=this.convertRateToPixel(this._rate);this.updateParts(e),this.sliderEventEmitter.emit("slider_change",new s(this.rate))}onPressedSliderButton(t){if(null!==this.activePointerId)return;this.activePointerId=t.pointerId;const e=t.currentTarget,i=this.toLocal(t.global);this.dragStartPos.set(i.x-e.x,i.y-e.y),a.addEventListenerToTarget(this.buttonRootContainer,"pointermove",this.moveSlider),this._slideButton.on("pointerup",this.moveSliderFinish),this._slideButton.on("pointerupoutside",this.moveSliderFinish)}onMoveSlider(t){const e=this.limitSliderButtonPosition(t);this.updateParts(e),this._rate=this.convertPixelToRate(e),this.sliderEventEmitter.emit("slider_change",new s(this.rate))}limitSliderButtonPosition(t){const e=a.getPointerLocalPosition(this,this.isHorizontal,this.dragStartPos,t);return a.clamp(e,this._maxPosition,this._minPosition)}updateParts(t){const e=e=>{a.setSize(e,this.isHorizontal,t-a.getPosition(e,this.isHorizontal))};this._bar&&!this._barMask&&e(this._bar),this._barMask&&e(this._barMask),a.setPosition(this._slideButton,this.isHorizontal,t)}onPressBase(t){null===this.activePointerId&&(this.dragStartPos.set(0,0),this.moveSlider(t,!0),this.sliderEventEmitter.emit("slider_change_finished",new s(this.rate)))}convertRateToPixel(t){return a.convertRateToPixel(t,this._maxPosition,this._minPosition)}convertPixelToRate(t){return a.convertPixelToRate(t,this._maxPosition,this._minPosition)}initBase(t){return t.eventMode="static",t.on("pointertap",t=>{this.onPressBase(t)}),t.on("wheel",this.onWheel),a.addChildParts(this,t),t}initBarAndMask(t){if(null!=t)return t.eventMode="none",a.addChildParts(this,t),t}initSliderButton(t){return t.on("pointerdown",this.startMove),t.on("wheel",this.onWheel),t.eventMode="static",a.addChildParts(this,t),t}dispose(){this.onDisposeFunction()}onDisposeFunction(){this.removeAllListeners(),this._base.removeAllListeners(),this._slideButton.removeAllListeners(),this.removeChildren()}}o.MAX_RATE=1;class r{static init(t){return this.check(t),null!=t.rate&&(t.rate=Math.max(0,t.rate),t.rate=Math.min(o.MAX_RATE,t.rate)),t.rate??=0,t.minPosition??=0,t.isHorizontal??=!0,t}static check(t){this.checkParts(t.base,"base"),this.checkParts(t.button,"button"),this.checkParts(t.mask,"mask"),this.checkParts(t.bar,"bar")}static checkParts(t,e){if(null==t)return;const i=a.getContentsBounds(t);if(0===i.width&&0===i.height)throw new Error(`SliderView : ${e} 初期化オプションで指定されたDisplayObjectにバウンディングボックスが存在しません。Containerを利用する場合はhitAreaを利用してバウンディングボックスを手動で設定してください。`);t.parent&&console.warn("初期化オプションで指定されたパーツがすでに別の親にaddChildされています。SliderViewおよびScrollBarViewの構成パーツは同一のコンテナにaddChildされることを前提としています。")}}i(5452),n.bkB,n.bkB,n.bkB;class a{static convertPixelToRate(t,e,i){if(e<=i)return 0;const n=(t-i)/(e-i)*o.MAX_RATE;return a.clamp(n,o.MAX_RATE,0)}static convertRateToPixel(t,e,i){const n=(e-i)*t/o.MAX_RATE+i;return a.clamp(n,e,i)}static getPosition(t,e){return e?t.x:t.y}static getPointerEventPosition(t,e){return t instanceof n.AjL?a.getPosition(t.global,e):a.getPosition(new n.bRX(t.offsetX,t.offsetY),e)}static setPosition(t,e,i){t&&(e?t.x=i:t.y=i)}static getSize(t,e){const i=a.getContentsBounds(t);return e?i.width*t.scale.x:i.height*t.scale.y}static setSize(t,e,i){const n=a.getContentsBounds(t);e?t.scale.x=i/n.width:t.scale.y=i/n.height}static clamp(t,e,i){return t=Math.max(t,i),Math.min(t,e)}static getContentsBounds(t){return t.boundsArea?t.boundsArea:t.hitArea?t.hitArea:t.getLocalBounds()}static getRootContainer(t,e){if(t)return t;let i=e.parent;for(;i.parent;)i=i.parent;return i}static addChildParts(t,e){e&&(e.parent?.removeChild(e),t.addChild(e))}static getPointerLocalPoint(t,e){return t instanceof n.AjL?e.toLocal(t.global):e.toLocal(new n.bRX(t.offsetX,t.offsetY))}static getPointerLocalPosition(t,e,i,n){const s=this.getPointerLocalPoint(n,t);return e?s.x-i.x:s.y-i.y}static toggleEventListener(t,e,i,n){e instanceof HTMLCanvasElement?e[t?"addEventListener":"removeEventListener"](i,n):e[t?"on":"off"](i,n)}static addEventListenerToTarget(t,e,i){this.toggleEventListener(!0,t,e,i)}static removeEventListenerFromTarget(t,e,i){this.toggleEventListener(!1,t,e,i)}}class l extends n.mcf{set value(t){const e=this._value,i=a.clamp(t,this.option.maxValue,this.option.minValue);this._value=i,e!==this._value&&(this.updateSliderPosition(),this.stepBarEventEmitter.emit("changed",this._value))}get value(){return this._value}constructor(t){super(),this.activePointerId=null,this.stepBarEventEmitter=new n.bkB,this.initParts=()=>{const{base:t,sliderButton:e,incrementButton:i,decrementButton:n}=this.option;a.addChildParts(this,t),a.addChildParts(this,e),a.addChildParts(this,i),a.addChildParts(this,n)},this.initStepButtons=()=>{const t=(t,e)=>{e&&(e.interactive=!0,e.interactiveChildren=!1,e.eventMode="static",e.cursor="pointer",e.on("pointertap",t))};t(this.incrementValue,this.option.incrementButton),t(this.decrementValue,this.option.decrementButton)},this.initSliderButton=()=>{const{sliderButton:t}=this.option;t&&(t.eventMode="none",t.interactive=!1,t.interactiveChildren=!1)},this.initBaseEventHandlers=()=>{const{canvas:t,base:e}=this.option;e.interactive=!0,e.interactiveChildren=!1,e.eventMode="static",e.cursor="pointer",e.alpha=0,e.on("pointertap",this.updateValueFromPointerEvent);const i=t||e,n=()=>{a.addEventListenerToTarget(i,"pointermove",this.updateValueFromPointerEvent)},s=()=>{a.removeEventListenerFromTarget(i,"pointermove",this.updateValueFromPointerEvent)};e.on("pointerdown",t=>{null===this.activePointerId&&(this.activePointerId=t.pointerId,n())}),e.on("pointerup",t=>{null!=t.pointerId&&t.pointerId!==this.activePointerId||(this.activePointerId=null,s())}),e.on("pointerupoutside",t=>{null!=t.pointerId&&t.pointerId!==this.activePointerId||(this.activePointerId=null,s())}),e.on("pointercancel",t=>{null!=t.pointerId&&t.pointerId!==this.activePointerId||(this.activePointerId=null,s())})},this.updateValueFromPointerEvent=t=>{if(null!==this.activePointerId&&t.pointerId!==this.activePointerId)return;const{minValue:e,maxValue:i,sliderStartPoint:n,sliderMaxPoint:s,isHorizontal:o,step:r}=this.option,h=i-e,d=s-n,c=e+(a.getPointerLocalPoint(t,this)[o?"x":"y"]-n)/d*h,u=l.snap(c,r,e);this.value=u},this.incrementValue=()=>{this.value=l.getNextStepValue(this.value,this.option.step,this.option.minValue)},this.decrementValue=()=>{this.value=l.getPreviousStepValue(this.value,this.option.step,this.option.minValue)},this.updateSliderPosition=()=>{const t=this.option.sliderButton;if(t){const e=this.option.isHorizontal?"x":"y";t.position[e]=this.getSliderButtonPosition()}},this.getSliderButtonPosition=()=>{const{sliderStartPoint:t,sliderMaxPoint:e,maxValue:i,minValue:n}=this.option;return t+(e-t)*((this.value-n)/(i-n))},this._isWheelEnabled=!1,this.wheelHandler=t=>{if(0===t.deltaY||void 0===t.deltaY)return;const{isHorizontal:e,sliderStartPoint:i,sliderMaxPoint:n}=this.option,s=t.deltaY>0;e?s?this.decrementValue():this.incrementValue():s===i<n?this.incrementValue():this.decrementValue()},this.option=function(t){return{...t,initialValue:t.initialValue??0,minValue:t.minValue??0,step:t.step??1,isHorizontal:t.isHorizontal??!0,enableMouseWheel:t.enableMouseWheel??!0}}(t),this._value=this.option.initialValue,this.init()}init(){this.initParts(),this.updateSliderPosition(),this.initSliderButton(),this.initStepButtons(),this.initBaseEventHandlers(),this.option.enableMouseWheel&&this.enableWheel()}static snap(t,e,i){return Math.round((t-i)/e)*e+i}static getNextStepValue(t,e,i){const n=t-i;return n%e===0?t+e:Math.ceil(n/e)*e+i}static getPreviousStepValue(t,e,i){const n=t-i;return n%e===0?t-e:Math.floor(n/e)*e+i}get isWheelEnabled(){return this._isWheelEnabled}enableWheel(){if(this._isWheelEnabled)return;const{base:t}=this.option;t.eventMode="static",t.on("wheel",this.wheelHandler),this._isWheelEnabled=!0}disableWheel(){if(!this._isWheelEnabled)return;const{base:t}=this.option;t.off("wheel",this.wheelHandler),this._isWheelEnabled=!1}}const h=async()=>{const t=new n.lgM;await t.init({width:800,height:600}),document.body.appendChild(t.canvas),d(t.stage,t.canvas)},d=(t,e)=>{const i=c(200,16,65280,10);i.eventMode="none";const n=u(216,32,16711935);n.y=-8,n.x=-8,i.x=0;const s=p(16,16,16776960);s.y=16;const o=v(16,65280),r=v(16,65280);r.x=-32,o.x=232,o.y=r.y=8;const a=new l({base:n,sliderStartPoint:0,sliderMaxPoint:200,minValue:0,maxValue:10,step:1,incrementButton:o,decrementButton:r,sliderButton:s,canvas:e});a.addChild(i),a.stepBarEventEmitter.on("changed",t=>{console.log(t)}),t.addChild(a),a.x=200,a.y=200,a.value=9},c=(t,e,i,s)=>{const o=new n.A1g,r=t/s;for(let t=0;t<s;t++)o.rect(t*r,0,r,e).fill({color:i,alpha:t%2==0?.5:1});return o},u=(t,e,i)=>{const s=new n.A1g;return s.rect(0,0,t,e).fill(i),s.hitArea=new n.M_G(0,-16,t,e+32),s},p=(t,e,i)=>{const s=new n.A1g;return s.moveTo(0,0).lineTo(t/2,e).lineTo(-t/2,e).lineTo(0,0).fill(i),s},v=(t,e)=>{const i=new n.A1g;return i.circle(0,0,t).fill(e),i};"loading"!==document.readyState?h():document.addEventListener("DOMContentLoaded",h)}},s={};function o(t){var e=s[t];if(void 0!==e)return e.exports;var i=s[t]={exports:{}};return n[t](i,i.exports,o),i.exports}o.m=n,t=[],o.O=(e,i,n,s)=>{if(!i){var r=1/0;for(d=0;d<t.length;d++){for(var[i,n,s]=t[d],a=!0,l=0;l<i.length;l++)(!1&s||r>=s)&&Object.keys(o.O).every(t=>o.O[t](i[l]))?i.splice(l--,1):(a=!1,s<r&&(r=s));if(a){t.splice(d--,1);var h=n();void 0!==h&&(e=h)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[i,n,s]},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.f={},o.e=t=>Promise.all(Object.keys(o.f).reduce((e,i)=>(o.f[i](t,e),e),[])),o.u=t=>t+".js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},i="@masatomakino/pixijs-basic-scrollbar:",o.l=(t,n,s,r)=>{if(e[t])e[t].push(n);else{var a,l;if(void 0!==s)for(var h=document.getElementsByTagName("script"),d=0;d<h.length;d++){var c=h[d];if(c.getAttribute("src")==t||c.getAttribute("data-webpack")==i+s){a=c;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",i+s),a.src=t),e[t]=[n];var u=(i,n)=>{a.onerror=a.onload=null,clearTimeout(p);var s=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach(t=>t(n)),i)return i(n)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),l&&document.head.appendChild(a)}},o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.j=322,(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=i[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t={322:0};o.f.j=(e,i)=>{var n=o.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise((i,s)=>n=t[e]=[i,s]);i.push(n[2]=s);var r=o.p+o.u(e),a=new Error;o.l(r,i=>{if(o.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,n[1](a)}},"chunk-"+e,e)}},o.O.j=e=>0===t[e];var e=(e,i)=>{var n,s,[r,a,l]=i,h=0;if(r.some(e=>0!==t[e])){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(l)var d=l(o)}for(e&&e(i);h<r.length;h++)s=r[h],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(d)},i=self.webpackChunk_masatomakino_pixijs_basic_scrollbar=self.webpackChunk_masatomakino_pixijs_basic_scrollbar||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var r=o.O(void 0,[121],()=>o(7643));r=o.O(r)})();