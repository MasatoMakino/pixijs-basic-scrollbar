(()=>{"use strict";var t,e={657:(t,e,i)=>{var s,n,o,r,a,h,l=i(348);class d{constructor(t){this.rate=t}}(n=s||(s={})).CHANGE="event_slider_change",n.CHANGE_FINISH="event_slider_change_finish";class c extends l.W20{constructor(t){super(),this._isHorizontal=!0,this.dragStartPos=new l.E9j,this.isDragging=!1,this.startMove=t=>{this.onPressedSliderButton(t)},this.moveSlider=t=>{this.onMoveSlider(t)},this.moveSliderFinish=t=>{this.isDragging=!1,this._slideButton.off("pointermove",this.moveSlider),this._slideButton.off("pointerup",this.moveSliderFinish),this._slideButton.off("pointerupoutside",this.moveSliderFinish),this.emit(s.CHANGE_FINISH,new d(this.rate))},this.dispose=t=>{this.onDisposeFunction(t)},this.init(t),this.interactive=!0}get isHorizontal(){return this._isHorizontal}init(t){t=class{static init(t){var e,i,s;return null!=t.rate&&(t.rate=Math.max(0,t.rate),t.rate=Math.min(c.MAX_RATE,t.rate)),null!==(e=t.minPosition)&&void 0!==e||(t.minPosition=0),null!==(i=t.rate)&&void 0!==i||(t.rate=0),null!==(s=t.isHorizontal)&&void 0!==s||(t.isHorizontal=!0),this.check(t),t}static check(t){this.checkParts(t.base,"base"),this.checkParts(t.button,"button"),this.checkParts(t.mask,"mask"),this.checkParts(t.bar,"bar")}static checkParts(t,e){if(null==t)return;const i=u.getContentsBounds(t);if(0===i.width&&0===i.height&&i.type===l.HSM.RECT)throw new Error(`SliderView : ${e} 初期化オプションで指定されたDisplayObjectにバウンディングボックスが存在しません。Containerを利用する場合はhitAreaを利用してバウンディングボックスを手動で設定してください。`);t.parent&&console.warn("初期化オプションで指定されたパーツがすでに別の親にaddChildされています。SliderViewおよびScrollBarViewの構成パーツは同一のコンテナにaddChildされることを前提としています。")}}.init(t),this.base=t.base,this._bar=this.initBarAndMask(t.bar),this.slideButton=t.button,this._barMask=this.initBarAndMask(t.mask),this._bar&&this._barMask&&(this._bar.mask=this._barMask),this._minPosition=t.minPosition,this._maxPosition=t.maxPosition,this._isHorizontal=t.isHorizontal,this._rate=t.rate,this.changeRate(this._rate)}addChildParts(t){var e;t&&(null===(e=t.parent)||void 0===e||e.removeChild(t),this.addChild(t))}changeRate(t){if(this.isDragging)return;this._rate=t;const e=this.convertRateToPixel(this._rate);this.updateParts(e),this.emit(s.CHANGE,new d(this.rate))}onPressedSliderButton(t){this.isDragging=!0;const e=t.currentTarget,i=this.toLocal(t.data.global);this.dragStartPos=new l.E9j(i.x-e.x,i.y-e.y),this._slideButton.on("pointermove",this.moveSlider),this._slideButton.on("pointerup",this.moveSliderFinish),this._slideButton.on("pointerupoutside",this.moveSliderFinish)}onMoveSlider(t){const e=t,i=this.limitSliderButtonPosition(e);this.updateParts(i),this._rate=this.convertPixelToRate(i),this.emit(s.CHANGE,new d(this.rate))}limitSliderButtonPosition(t){const e=this.getMousePosition(this,t);return u.clamp(e,this._maxPosition,this._minPosition)}updateParts(t){const e=e=>{u.setSize(e,this._isHorizontal,t-u.getPosition(e,this._isHorizontal))};this._bar&&!this._barMask&&e(this._bar),this._barMask&&e(this._barMask),u.setPosition(this._slideButton,this._isHorizontal,t)}onPressBase(t){this.dragStartPos=new l.E9j,this.moveSlider(t),this.emit(s.CHANGE_FINISH,new d(this.rate))}convertRateToPixel(t){return u.convertRateToPixel(t,this._maxPosition,this._minPosition)}convertPixelToRate(t){return u.convertPixelToRate(t,this._maxPosition,this._minPosition)}getMousePosition(t,e){const i=t.toLocal(e.data.global);return this._isHorizontal?i.x-this.dragStartPos.x:i.y-this.dragStartPos.y}set base(t){this._base=t,this._base.interactive=!0,this._base.on("pointertap",(t=>{this.onPressBase(t)})),this.addChildParts(t)}initBarAndMask(t){if(null!=t)return t.interactive=!1,this.addChildParts(t),t}set slideButton(t){this._slideButton=t,this._slideButton.on("pointerdown",this.startMove),this._slideButton.interactive=!0,this.addChildParts(t)}get rate(){return this._rate}onDisposeFunction(t){this.removeAllListeners(),this._base.removeAllListeners(),this._slideButton.removeAllListeners(),this.removeChildren()}}c.MAX_RATE=1;class u{static convertPixelToRate(t,e,i){if(e<=i)return 0;const s=(t-i)/(e-i)*c.MAX_RATE;return u.clamp(s,c.MAX_RATE,0)}static convertRateToPixel(t,e,i){const s=(e-i)*t/c.MAX_RATE+i;return u.clamp(s,e,i)}static getPosition(t,e){return e?t.x:t.y}static setPosition(t,e,i){t&&(e?t.x=i:t.y=i)}static getSize(t,e){const i=u.getContentsBounds(t);return e?i.width*t.scale.x:i.height*t.scale.y}static setSize(t,e,i){const s=u.getContentsBounds(t);e?t.scale.x=i/s.width:t.scale.y=i/s.height}static clamp(t,e,i){return t=Math.max(t,i),Math.min(t,e)}static getContentsBounds(t){return t.hitArea?t.hitArea:t.getLocalBounds()}}i(471),(h=o||(o={})).UPDATE_TARGET_POSITION="ScrollBarEventType_UPDATE_TARGET_POSITION",h.STOP_INERTIAL_TWEEN="ScrollBarEventType_STOP_INERTIAL_TWEEN",l.P6Y.vp,(r||(r={})).WHEEL="wheel";class _{constructor(t){this.eventHandler=t=>{this.onMouseWheel(t)},this.app=t,this.app.view.addEventListener("wheel",this.eventHandler,{passive:!1})}onMouseWheel(t){const e=this.findScrollTarget({x:t.offsetX,y:t.offsetY});e&&(t.preventDefault(),e.emit(r.WHEEL,t))}findScrollTarget(t){const e=this.app.renderer.plugins.interaction.hitTest(t);if(e&&e.interactiveMousewheel)return e}destroy(){this.app.view.removeEventListener("wheel",this.eventHandler)}}l.P6Y.vp,(a||(a={})).CHANGED_CONTENTS_SIZE="ScrollBarContentsEventType_CHANGED_CONTENTS_SIZE",Object.defineProperty(l.s$$.prototype,"interactiveMousewheel",{get:function(){return this._interactiveMousewheel},set:function(t){this._interactiveMousewheel=t,t&&!this.interactive&&(this.interactive=!0)}}),l.MxU.registerPlugin({init:function(t){this._mousewheelPlugin=new _(this)},destroy:function(){this._mousewheelPlugin.destroy()}});const v=()=>{const t=new l.MxU({width:800,height:600});document.body.appendChild(t.view),P(t.stage),g(t.stage)},p=200,m=64,P=t=>{const e=new c({base:b(p,m,255),bar:b(p,m,65535),button:w(p,m,16776960),mask:f(p,m),minPosition:0,maxPosition:p,rate:25});e.on(s.CHANGE,(t=>{console.log(t.rate)})),t.addChild(e),e.x=200,e.y=200},g=t=>{const e=new c({base:b(p,m,255),bar:b(p,m,65535),button:w(p,m,16776960),minPosition:0,maxPosition:p,rate:25});e.on(s.CHANGE,(t=>{console.log(t.rate)})),t.addChild(e),e.x=200,e.y=400},b=(t,e,i)=>{const s=new l.TCu;return s.beginFill(i),s.moveTo(0,0).lineTo(t,0).lineTo(t,e).lineTo(0,0).endFill(),s.hitArea=new l.AeJ(0,0,t,e),s},f=(t,e)=>{const i=new l.TCu;return i.beginFill(16711935,.1),i.drawRect(0,0,t,e),i.hitArea=new l.AeJ(0,0,t,e),i},w=(t,e,i)=>{const s=new l.TCu;return s.beginFill(i,.5),s.drawRect(-8,0,16,e),s.hitArea=new l.AeJ(-8,0,16,e),s};"loading"!==document.readyState?v():document.addEventListener("DOMContentLoaded",v)}},i={};function s(t){var n=i[t];if(void 0!==n)return n.exports;var o=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=e,t=[],s.O=(e,i,n,o)=>{if(!i){var r=1/0;for(d=0;d<t.length;d++){for(var[i,n,o]=t[d],a=!0,h=0;h<i.length;h++)(!1&o||r>=o)&&Object.keys(s.O).every((t=>s.O[t](i[h])))?i.splice(h--,1):(a=!1,o<r&&(r=o));if(a){t.splice(d--,1);var l=n();void 0!==l&&(e=l)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[i,n,o]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),s.j=414,(()=>{var t={414:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var n,o,[r,a,h]=i,l=0;if(r.some((e=>0!==t[e]))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(h)var d=h(s)}for(e&&e(i);l<r.length;l++)o=r[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(d)},i=self.webpackChunk_masatomakino_pixijs_basic_scrollbar=self.webpackChunk_masatomakino_pixijs_basic_scrollbar||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var n=s.O(void 0,[736],(()=>s(657)));n=s.O(n)})();