(()=>{"use strict";var t,e,i,s={3724:(t,e,i)=>{var s=i(9027);class n{constructor(t){this.rate=t}}class r extends s.mcf{get rate(){return this._rate}constructor(t){super(),this.isHorizontal=!0,this.wheelSpeed=3e-4,this.dragStartPos=new s.bRX,this.isDragging=!1,this.sliderEventEmitter=new s.bkB,this.startMove=t=>{this.onPressedSliderButton(t)},this.moveSlider=t=>{this.onMoveSlider(t)},this.moveSliderFinish=()=>{this.isDragging=!1,a.removeEventListenerFromTarget(this.buttonRootContainer,"pointermove",this.moveSlider),this._slideButton.off("pointerup",this.moveSliderFinish),this._slideButton.off("pointerupoutside",this.moveSliderFinish),this.sliderEventEmitter.emit("slider_change_finished",new n(this.rate))},this.onWheel=t=>{const e=a.clamp(this.rate+t.deltaY*this.wheelSpeed,r.MAX_RATE,0);this.changeRate(e)};const e=o.init(t);this.canvas=e.canvas,this._base=this.initBase(e.base),this._bar=this.initBarAndMask(e?.bar),this._barMask=this.initBarAndMask(e?.mask),this._bar&&this._barMask&&(this._bar.mask=this._barMask),this._slideButton=this.initSliderButton(e.button),this.buttonRootContainer=a.getRootContainer(this.canvas,this._slideButton),this._minPosition=e.minPosition,this._maxPosition=e.maxPosition,this.isHorizontal=e.isHorizontal,this._rate=e.rate,this.changeRate(this._rate)}changeRate(t){if(this.isDragging)return;this._rate=t;const e=this.convertRateToPixel(this._rate);this.updateParts(e),this.sliderEventEmitter.emit("slider_change",new n(this.rate))}onPressedSliderButton(t){this.isDragging=!0;const e=t.currentTarget,i=this.toLocal(t.global);this.dragStartPos.set(i.x-e.x,i.y-e.y),a.addEventListenerToTarget(this.buttonRootContainer,"pointermove",this.moveSlider),this._slideButton.on("pointerup",this.moveSliderFinish),this._slideButton.on("pointerupoutside",this.moveSliderFinish)}onMoveSlider(t){const e=this.limitSliderButtonPosition(t);this.updateParts(e),this._rate=this.convertPixelToRate(e),this.sliderEventEmitter.emit("slider_change",new n(this.rate))}limitSliderButtonPosition(t){const e=a.getPointerLocalPosition(this,this.isHorizontal,this.dragStartPos,t);return a.clamp(e,this._maxPosition,this._minPosition)}updateParts(t){const e=e=>{a.setSize(e,this.isHorizontal,t-a.getPosition(e,this.isHorizontal))};this._bar&&!this._barMask&&e(this._bar),this._barMask&&e(this._barMask),a.setPosition(this._slideButton,this.isHorizontal,t)}onPressBase(t){this.dragStartPos.set(0,0),this.moveSlider(t),this.sliderEventEmitter.emit("slider_change_finished",new n(this.rate))}convertRateToPixel(t){return a.convertRateToPixel(t,this._maxPosition,this._minPosition)}convertPixelToRate(t){return a.convertPixelToRate(t,this._maxPosition,this._minPosition)}initBase(t){return t.eventMode="static",t.on("pointertap",(t=>{this.onPressBase(t)})),t.on("wheel",this.onWheel),a.addChildParts(this,t),t}initBarAndMask(t){if(null!=t)return t.eventMode="none",a.addChildParts(this,t),t}initSliderButton(t){return t.on("pointerdown",this.startMove),t.on("wheel",this.onWheel),t.eventMode="static",a.addChildParts(this,t),t}dispose(){this.onDisposeFunction()}onDisposeFunction(){this.removeAllListeners(),this._base.removeAllListeners(),this._slideButton.removeAllListeners(),this.removeChildren()}}r.MAX_RATE=1;class o{static init(t){return this.check(t),null!=t.rate&&(t.rate=Math.max(0,t.rate),t.rate=Math.min(r.MAX_RATE,t.rate)),t.rate??=0,t.minPosition??=0,t.isHorizontal??=!0,t}static check(t){this.checkParts(t.base,"base"),this.checkParts(t.button,"button"),this.checkParts(t.mask,"mask"),this.checkParts(t.bar,"bar")}static checkParts(t,e){if(null==t)return;const i=a.getContentsBounds(t);if(0===i.width&&0===i.height)throw new Error(`SliderView : ${e} 初期化オプションで指定されたDisplayObjectにバウンディングボックスが存在しません。Containerを利用する場合はhitAreaを利用してバウンディングボックスを手動で設定してください。`);t.parent&&console.warn("初期化オプションで指定されたパーツがすでに別の親にaddChildされています。SliderViewおよびScrollBarViewの構成パーツは同一のコンテナにaddChildされることを前提としています。")}}i(5452),s.bkB,s.bkB,s.bkB;class a{static convertPixelToRate(t,e,i){if(e<=i)return 0;const s=(t-i)/(e-i)*r.MAX_RATE;return a.clamp(s,r.MAX_RATE,0)}static convertRateToPixel(t,e,i){const s=(e-i)*t/r.MAX_RATE+i;return a.clamp(s,e,i)}static getPosition(t,e){return e?t.x:t.y}static getPointerEventPosition(t,e){return t instanceof s.AjL?a.getPosition(t.global,e):a.getPosition(new s.bRX(t.offsetX,t.offsetY),e)}static setPosition(t,e,i){t&&(e?t.x=i:t.y=i)}static getSize(t,e){const i=a.getContentsBounds(t);return e?i.width*t.scale.x:i.height*t.scale.y}static setSize(t,e,i){const s=a.getContentsBounds(t);e?t.scale.x=i/s.width:t.scale.y=i/s.height}static clamp(t,e,i){return t=Math.max(t,i),Math.min(t,e)}static getContentsBounds(t){return t.boundsArea?t.boundsArea:t.hitArea?t.hitArea:t.getLocalBounds()}static getRootContainer(t,e){if(t)return t;let i=e.parent;for(;i.parent;)i=i.parent;return i}static addChildParts(t,e){e&&(e.parent?.removeChild(e),t.addChild(e))}static getPointerLocalPoint(t,e){return t instanceof s.AjL?e.toLocal(t.global):e.toLocal(new s.bRX(t.offsetX,t.offsetY))}static getPointerLocalPosition(t,e,i,s){const n=this.getPointerLocalPoint(s,t);return e?n.x-i.x:n.y-i.y}static toggleEventListener(t,e,i,s){e instanceof HTMLCanvasElement?e[t?"addEventListener":"removeEventListener"](i,s):e[t?"on":"off"](i,s)}static addEventListenerToTarget(t,e,i){this.toggleEventListener(!0,t,e,i)}static removeEventListenerFromTarget(t,e,i){this.toggleEventListener(!1,t,e,i)}}s.mcf;const h=async()=>{const t=new s.lgM;await t.init({width:800,height:600}),document.body.appendChild(t.canvas),d(t.stage,t.canvas),u(t.stage,t.canvas)},l=200,c=64,d=(t,e)=>{const i=new r({base:m(l,c,255),bar:m(l,c,65535),button:v(l,c,16776960),mask:g(l,c),minPosition:0,maxPosition:l,rate:25,canvas:e});i.sliderEventEmitter.on("ch",(t=>{console.log(t.rate)})),t.addChild(i),i.x=200,i.y=200},u=(t,e)=>{const i=new r({base:m(l,c,255),bar:m(l,c,65535),button:v(l,c,16776960),minPosition:0,maxPosition:l,rate:25,canvas:e});i.on("slider_change",(t=>{console.log(t.rate)})),t.addChild(i),i.x=200,i.y=400},m=(t,e,i)=>{const n=new s.A1g;return n.moveTo(0,0).lineTo(t,0).lineTo(t,e).lineTo(0,0).fill(i),n.hitArea=new s.M_G(0,0,t,e),n},g=(t,e)=>{const i=new s.A1g;return i.rect(0,0,t,e).fill({color:16711935,alpha:.1}),i.hitArea=new s.M_G(0,0,t,e),i},v=(t,e,i)=>{const n=new s.A1g;return n.rect(-8,0,16,e).fill({color:i,alpha:.5}),n.hitArea=new s.M_G(-8,0,16,e),n};"loading"!==document.readyState?h():document.addEventListener("DOMContentLoaded",h)}},n={};function r(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={exports:{}};return s[t](i,i.exports,r),i.exports}r.m=s,t=[],r.O=(e,i,s,n)=>{if(!i){var o=1/0;for(c=0;c<t.length;c++){for(var[i,s,n]=t[c],a=!0,h=0;h<i.length;h++)(!1&n||o>=n)&&Object.keys(r.O).every((t=>r.O[t](i[h])))?i.splice(h--,1):(a=!1,n<o&&(o=n));if(a){t.splice(c--,1);var l=s();void 0!==l&&(e=l)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[i,s,n]},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,i)=>(r.f[i](t,e),e)),[])),r.u=t=>t+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},i="@masatomakino/pixijs-basic-scrollbar:",r.l=(t,s,n,o)=>{if(e[t])e[t].push(s);else{var a,h;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==i+n){a=d;break}}a||(h=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",i+n),a.src=t),e[t]=[s];var u=(i,s)=>{a.onerror=a.onload=null,clearTimeout(m);var n=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((t=>t(s))),i)return i(s)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),h&&document.head.appendChild(a)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.j=934,(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=i[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{var t={934:0};r.f.j=(e,i)=>{var s=r.o(t,e)?t[e]:void 0;if(0!==s)if(s)i.push(s[2]);else{var n=new Promise(((i,n)=>s=t[e]=[i,n]));i.push(s[2]=n);var o=r.p+r.u(e),a=new Error;r.l(o,(i=>{if(r.o(t,e)&&(0!==(s=t[e])&&(t[e]=void 0),s)){var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",a.name="ChunkLoadError",a.type=n,a.request=o,s[1](a)}}),"chunk-"+e,e)}},r.O.j=e=>0===t[e];var e=(e,i)=>{var s,n,[o,a,h]=i,l=0;if(o.some((e=>0!==t[e]))){for(s in a)r.o(a,s)&&(r.m[s]=a[s]);if(h)var c=h(r)}for(e&&e(i);l<o.length;l++)n=o[l],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(c)},i=self.webpackChunk_masatomakino_pixijs_basic_scrollbar=self.webpackChunk_masatomakino_pixijs_basic_scrollbar||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var o=r.O(void 0,[121],(()=>r(3724)));o=r.O(o)})();