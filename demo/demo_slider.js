(()=>{"use strict";var t,e,i,n={7242(t,e,i){var n=i(1252);class s{constructor(t){this.rate=t}}class r extends n.mcf{get rate(){return this._rate}constructor(t){super(),this.isHorizontal=!0,this.wheelSpeed=3e-4,this.dragStartPos=new n.bRX,this.activePointerId=null,this.sliderEventEmitter=new n.bkB,this.startMove=t=>{this.onPressedSliderButton(t)},this.moveSlider=(t,e=!1)=>{(e||null!==this.activePointerId&&t.pointerId===this.activePointerId)&&this.onMoveSlider(t)},this.moveSliderFinish=t=>{null!=t?.pointerId&&t.pointerId!==this.activePointerId||(this.activePointerId=null,a.removeEventListenerFromTarget(this.buttonRootContainer,"pointermove",this.moveSlider),this._slideButton.off("pointerup",this.moveSliderFinish),this._slideButton.off("pointerupoutside",this.moveSliderFinish),this.sliderEventEmitter.emit("slider_change_finished",new s(this.rate)))},this.onWheel=t=>{const e=a.clamp(this.rate+t.deltaY*this.wheelSpeed,r.MAX_RATE,0);this.changeRate(e)};const e=o.init(t);this.canvas=e.canvas,this._base=this.initBase(e.base),this._bar=this.initBarAndMask(e?.bar),this._barMask=this.initBarAndMask(e?.mask),this._bar&&this._barMask&&(this._bar.mask=this._barMask),this._slideButton=this.initSliderButton(e.button),this.buttonRootContainer=a.getRootContainer(this.canvas,this._slideButton),this._minPosition=e.minPosition,this._maxPosition=e.maxPosition,this.isHorizontal=e.isHorizontal,this._rate=e.rate,this.changeRate(this._rate)}changeRate(t){if(null!==this.activePointerId)return;this._rate=t;const e=this.convertRateToPixel(this._rate);this.updateParts(e),this.sliderEventEmitter.emit("slider_change",new s(this.rate))}onPressedSliderButton(t){if(null!==this.activePointerId)return;this.activePointerId=t.pointerId;const e=t.currentTarget,i=this.toLocal(t.global);this.dragStartPos.set(i.x-e.x,i.y-e.y),a.addEventListenerToTarget(this.buttonRootContainer,"pointermove",this.moveSlider),this._slideButton.on("pointerup",this.moveSliderFinish),this._slideButton.on("pointerupoutside",this.moveSliderFinish)}onMoveSlider(t){const e=this.limitSliderButtonPosition(t);this.updateParts(e),this._rate=this.convertPixelToRate(e),this.sliderEventEmitter.emit("slider_change",new s(this.rate))}limitSliderButtonPosition(t){const e=a.getPointerLocalPosition(this,this.isHorizontal,this.dragStartPos,t);return a.clamp(e,this._maxPosition,this._minPosition)}updateParts(t){const e=e=>{a.setSize(e,this.isHorizontal,t-a.getPosition(e,this.isHorizontal))};this._bar&&!this._barMask&&e(this._bar),this._barMask&&e(this._barMask),a.setPosition(this._slideButton,this.isHorizontal,t)}onPressBase(t){null===this.activePointerId&&(this.dragStartPos.set(0,0),this.moveSlider(t,!0),this.sliderEventEmitter.emit("slider_change_finished",new s(this.rate)))}convertRateToPixel(t){return a.convertRateToPixel(t,this._maxPosition,this._minPosition)}convertPixelToRate(t){return a.convertPixelToRate(t,this._maxPosition,this._minPosition)}initBase(t){return t.eventMode="static",t.on("pointertap",t=>{this.onPressBase(t)}),t.on("wheel",this.onWheel),a.addChildParts(this,t),t}initBarAndMask(t){if(null!=t)return t.eventMode="none",a.addChildParts(this,t),t}initSliderButton(t){return t.on("pointerdown",this.startMove),t.on("wheel",this.onWheel),t.eventMode="static",a.addChildParts(this,t),t}dispose(){this.onDisposeFunction()}onDisposeFunction(){this.removeAllListeners(),this._base.removeAllListeners(),this._slideButton.removeAllListeners(),this.removeChildren()}}r.MAX_RATE=1;class o{static init(t){return this.check(t),null!=t.rate&&(t.rate=Math.max(0,t.rate),t.rate=Math.min(r.MAX_RATE,t.rate)),t.rate??=0,t.minPosition??=0,t.isHorizontal??=!0,t}static check(t){this.checkParts(t.base,"base"),this.checkParts(t.button,"button"),this.checkParts(t.mask,"mask"),this.checkParts(t.bar,"bar")}static checkParts(t,e){if(null==t)return;const i=a.getContentsBounds(t);if(0===i.width&&0===i.height)throw new Error(`SliderView : ${e} 初期化オプションで指定されたDisplayObjectにバウンディングボックスが存在しません。Containerを利用する場合はhitAreaを利用してバウンディングボックスを手動で設定してください。`);t.parent&&console.warn("初期化オプションで指定されたパーツがすでに別の親にaddChildされています。SliderViewおよびScrollBarViewの構成パーツは同一のコンテナにaddChildされることを前提としています。")}}i(40),n.bkB,n.bkB,n.bkB;class a{static convertPixelToRate(t,e,i){if(e<=i)return 0;const n=(t-i)/(e-i)*r.MAX_RATE;return a.clamp(n,r.MAX_RATE,0)}static convertRateToPixel(t,e,i){const n=(e-i)*t/r.MAX_RATE+i;return a.clamp(n,e,i)}static getPosition(t,e){return e?t.x:t.y}static getPointerEventPosition(t,e){return t instanceof n.AjL?a.getPosition(t.global,e):a.getPosition(new n.bRX(t.offsetX,t.offsetY),e)}static setPosition(t,e,i){t&&(e?t.x=i:t.y=i)}static getSize(t,e){const i=a.getContentsBounds(t);return e?i.width*t.scale.x:i.height*t.scale.y}static setSize(t,e,i){const n=a.getContentsBounds(t);e?t.scale.x=i/n.width:t.scale.y=i/n.height}static clamp(t,e,i){return t=Math.max(t,i),Math.min(t,e)}static getContentsBounds(t){return t.boundsArea?t.boundsArea:t.hitArea?t.hitArea:t.getLocalBounds()}static getRootContainer(t,e){if(t)return t;let i=e.parent??e;for(;i.parent;)i=i.parent;return i}static addChildParts(t,e){e&&(e.parent?.removeChild(e),t.addChild(e))}static getPointerLocalPoint(t,e){return t instanceof n.AjL?e.toLocal(t.global):e.toLocal(new n.bRX(t.offsetX,t.offsetY))}static getPointerLocalPosition(t,e,i,n){const s=this.getPointerLocalPoint(n,t);return e?s.x-i.x:s.y-i.y}static toggleEventListener(t,e,i,n){e instanceof HTMLCanvasElement?e[t?"addEventListener":"removeEventListener"](i,n):e[t?"on":"off"](i,n)}static addEventListenerToTarget(t,e,i){this.toggleEventListener(!0,t,e,i)}static removeEventListenerFromTarget(t,e,i){this.toggleEventListener(!1,t,e,i)}}n.mcf;const l=async()=>{const t=new n.lgM;await t.init({width:800,height:600}),document.body.appendChild(t.canvas),d(t.stage,t.canvas),u(t.stage,t.canvas)},h=200,c=64,d=(t,e)=>{const i=new r({base:v(h,c,255),bar:v(h,c,65535),button:p(h,c,16776960),mask:m(h,c),minPosition:0,maxPosition:h,rate:25,canvas:e});i.sliderEventEmitter.on("ch",t=>{console.log(t.rate)}),t.addChild(i),i.x=200,i.y=200},u=(t,e)=>{const i=new r({base:v(h,c,255),bar:v(h,c,65535),button:p(h,c,16776960),minPosition:0,maxPosition:h,rate:25,canvas:e});i.on("slider_change",t=>{console.log(t.rate)}),t.addChild(i),i.x=200,i.y=400},v=(t,e,i)=>{const s=new n.A1g;return s.moveTo(0,0).lineTo(t,0).lineTo(t,e).lineTo(0,0).fill(i),s.hitArea=new n.M_G(0,0,t,e),s},m=(t,e)=>{const i=new n.A1g;return i.rect(0,0,t,e).fill({color:16711935,alpha:.1}),i.hitArea=new n.M_G(0,0,t,e),i},p=(t,e,i)=>{const s=new n.A1g;return s.rect(-8,0,16,e).fill({color:i,alpha:.5}),s.hitArea=new n.M_G(-8,0,16,e),s};"loading"!==document.readyState?l():document.addEventListener("DOMContentLoaded",l)}},s={};function r(t){var e=s[t];if(void 0!==e)return e.exports;var i=s[t]={exports:{}};return n[t](i,i.exports,r),i.exports}r.m=n,t=[],r.O=(e,i,n,s)=>{if(!i){var o=1/0;for(c=0;c<t.length;c++){for(var[i,n,s]=t[c],a=!0,l=0;l<i.length;l++)(!1&s||o>=s)&&Object.keys(r.O).every(t=>r.O[t](i[l]))?i.splice(l--,1):(a=!1,s<o&&(o=s));if(a){t.splice(c--,1);var h=n();void 0!==h&&(e=h)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[i,n,s]},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce((e,i)=>(r.f[i](t,e),e),[])),r.u=t=>t+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},i="@masatomakino/pixijs-basic-scrollbar:",r.l=(t,n,s,o)=>{if(e[t])e[t].push(n);else{var a,l;if(void 0!==s)for(var h=document.getElementsByTagName("script"),c=0;c<h.length;c++){var d=h[c];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==i+s){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",i+s),a.src=t),e[t]=[n];var u=(i,n)=>{a.onerror=a.onload=null,clearTimeout(v);var s=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach(t=>t(n)),i)return i(n)},v=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),l&&document.head.appendChild(a)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.j=934,(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=i[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{var t={934:0};r.f.j=(e,i)=>{var n=r.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise((i,s)=>n=t[e]=[i,s]);i.push(n[2]=s);var o=r.p+r.u(e),a=new Error;r.l(o,i=>{if(r.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,n[1](a)}},"chunk-"+e,e)}},r.O.j=e=>0===t[e];var e=(e,i)=>{var n,s,[o,a,l]=i,h=0;if(o.some(e=>0!==t[e])){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(l)var c=l(r)}for(e&&e(i);h<o.length;h++)s=o[h],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(c)},i=self.webpackChunk_masatomakino_pixijs_basic_scrollbar=self.webpackChunk_masatomakino_pixijs_basic_scrollbar||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var o=r.O(void 0,[121],()=>r(7242));o=r.O(o)})();